【提出方法】と【注意事項】はこの[課題](https://cms.aitech.ac.jp/mod/assign/view.php?id=244787 "課題")説明分の末尾に記載されている．

テストを始める前に必ず読んでおくこと．  
車の速度と止まるまでの距離のデータを分析する．  
moodleからcars.csvをダウンロードし，任意のフォルダに格納すること．  
本データセットはR Datasetの"cars"を一部扱いやすく加工したものである．  
[https://www.rdocumentation.org/packages/datasets/versions/3.6.1](https://www.rdocumentation.org/packages/datasets/versions/3.6.1)

cars.csvのフォーマットは以下のとおりである．  
speed,distance

\--cars.csvの一部--  
9,10  
10,18

速度の単位はmph(mile par hour)，距離の単位はfeetである．  

以下の問いに答えよ．  

Q1:  
cars.csvを１行ずつ読み込み， その内容を逐次表示するプログラムを作成せよ．  
※注意：cars.csvはワーキングディレクトリ直下に置き，必ず相対パス"./cars.csv"で読み込むこと．ファイル名違いや絶対パスでの指定は減点対象となる．

Q2:  
1回の試行(走行と停止の実測)を表す構造体（struct trial）を定義せよ．  
構造体struct trialの情報を表示するdispTrial関数を作成せよ．  
以下の文字列を読み込み，構造体の各メンバ変数(speed,distance)に代入し，その内容をdispTrial関数を用いて表示せよ．

char line\[\]="10,18\\n";

※注意：\\nは改行コードである．また，Q1のプログラムとは別で新たなプログラムとして作成すること．  

Q3:  
Q1とQ2を組み合わせ，cars.csvを１行ずつ読み込み，その内容を構造体として配列に格納するプログラムを作成せよ．  
配列に格納後，for文とdispTrial関数を用いて配列内に格納された構造体の内容を表示せよ．  
※注意：ファイル読み込みのループ内に構造体の内容表示処理を含めてはいけない．読み込み処理，出力処理を別ループに分けること．

Q4:  
この問以降，配列に格納された構造体の内容を分析する．  
データ分布の範囲について把握するため，以下を発見して表示せよ．  
・speedの最小値  
・speedの最大値  
・distanceの最小値  
・distanceの最大値

Q5:  
速度xが与えられたときに停止までにかかる距離yを推定したい．  
そこで，実測値の傾向を単純な直線近似で表してみる．  
試しに以下の直線を考える．  
y=2x　（以下の図におけるオレンジの直線）  
この直線近似の場合，例えばspeedが10のとき，推定距離は2x10=20となる．  
![](https://cms.aitech.ac.jp/pluginfile.php/555589/mod_assign/intro/plot2.png)  

すべての実測値に対して，推定と実測の誤差を求めて列挙せよ．  
例えば１行目の”4,2”では，speedが4のときに実測距離は2であるが，推定距離は2x4=8となり，推定と実測の誤差は2-8=-6となる．

Q6  

平均二乗誤差（MSE：Mean Square Error）は，その推定がどの程度実測値と近いかを表す指標の一つであり，小さいほど精度が良いとみなせる．  
関数f(x)による推定を行う場合のMSEは以下の式で求められる．

![](https://cms.aitech.ac.jp/pluginfile.php/555589/mod_assign/intro/f1.png?time=1578883520674)  

Q5の直線近似についてMSEを求めよ．  

Q7  
平均二乗誤差が最も小さくなる直線が，最もよい直線近似といえる．  
このような直線を求めることを線形回帰という．  
線形回帰に基づいて，速度xが与えられたときに停止までにかかる距離yを求めたい．  
原点を通る直線（y=ax）による線形回帰を行う．  
平均二乗誤差が最も小さくなる傾きaは以下の計算で求められる．

![](https://cms.aitech.ac.jp/pluginfile.php/555589/mod_assign/intro/f2.png)  

このときのaを求めよ．

Q8  
Q7で導出した直線近似についてMSEを求めよ

\---  
【注意事項】  
インターネットでの検索はして良いものとする。ただし，リアルタイムにコミュニケーションできるツールで直接質問する行為は不可とする。（例：Twitter、Yahoo知恵袋、Line，ChatGPT等はNG）  
学生間のコミュニケーションは不可とする。（例：会話、データのやり取り）  
その他常識的な範囲内でテストに臨むこと。

!!!!!!テスト中に不適切な行動をした者，提出物に他者からのコピーが認められた者については，  
本学の規則に則り処分を行う．コピー元，コピー先は共に処分の対象となる．!!!!!

\---  
【提出方法】  

それぞれの問題番号がわかるファイル名またはフォルダ名にしてZipにまとめて提出してください。

例：  
q1.c  
q2.c

または  
q1/main.c  
q2/main.c

cars.csvは提出物に含めなくて良い